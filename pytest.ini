[pytest]
minversion = 7.0

# Only collect tests from here
testpaths = src/lawyerfactory/phases

# Do not recurse into these dirs (keeps pytest fast/clean)
norecursedirs =
    archive
    archive_*
    archive_zip
    law_venv
    .venv
    venv
    node_modules
    dist
    build
    __pycache__
    trash
    */trash/*

# Patterns for test file/class/function names (reduces accidental collection)
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Short output for CI; remove -q locally if you want verbose output
addopts = -q

# Async tests support (requires pytest-asyncio if you use it)
asyncio_mode = auto

# Markers to categorize tests
markers =
    unit: fast unit tests
    integration: integration / slow tests
    e2e: end-to-end tests
    cloud: cloud integration tests