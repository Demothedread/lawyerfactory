{
  "entities": [
    {
      "name": "PrecisionCitationService",
      "entityType": "Service",
      "observations": [
        "Advanced legal research service with academic/peer-reviewed source prioritization",
        "Implements structured filtering to exclude Wikipedia and low-quality sources",
        "Uses citation count and Q-score weighting for source quality assessment",
        "Supports multiple research workflows: background research, claim substantiation, fact verification"
      ]
    },
    {
      "name": "BackgroundResearchIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase A01 intake processing",
        "Performs background research using intake form data and existing evidence",
        "Limits results to 3-4 most relevant sources per search",
        "Automatically stores research results in evidence table and links to claims/facts"
      ]
    },
    {
      "name": "ClaimSubstantiationIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase B01 review process",
        "Performs claim substantiation research against legal claims",
        "Uses academic sources for legal analysis and news sources for recent developments",
        "Calculates substantiation strength and generates recommendations"
      ]
    },
    {
      "name": "FactVerificationIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase C01 editing process",
        "Performs fact verification research for document editing phase",
        "Focuses on recent news and academic sources for fact corroboration",
        "Calculates verification confidence and provides editing recommendations"
      ]
    },
    {
      "name": "QualityMetrics",
      "entityType": "DataStructure",
      "observations": [
        "Comprehensive source quality assessment system",
        "Includes authority score, citation count weighting, Q-score weighting, recency score",
        "Combines metrics into overall quality score (1.0-5.0 scale)",
        "Used for filtering and ranking research sources"
      ]
    },
    {
      "name": "LaunchScript",
      "entityType": "SystemScript",
      "observations": [
        "Enhanced Bash launch script (v1.0.0) for complete LawyerFactory system startup",
        "Handles dependency installation, environment setup, port management, health checks",
        "Supports dry-run mode, verbose logging, configurable ports, skip-deps option"
      ]
    },
    {
      "name": "EnvironmentSetup",
      "entityType": "SystemComponent",
      "observations": [
        "Auto-creates .env configuration from template if missing",
        "Sets up directory structure: logs, data/storage, data/vectors, uploads, output",
        "Configures Python environment detection and validates version compatibility"
      ]
    },
    {
      "name": "ServerOrchestration",
      "entityType": "SystemComponent",
      "observations": [
        "Manages Flask backend server startup with Socket.IO support",
        "Launches frontend HTTP server for static file serving",
        "Implements health checks, PID tracking, graceful shutdown handling",
        "Fixed eventlet/greenlet threading compatibility issue",
        "Resolved import path conflicts and type mismatches"
      ]
    },
    {
      "name": "EnhancedUnifiedStorageAPI",
      "entityType": "StorageService",
      "observations": [
        "Enhanced unified storage system with blob storage integration",
        "Supports three-tier storage: S3 Raw → Evidence Table → Vector Store",
        "Tracks ObjectIDs across all storage tiers",
        "Fixed logger definition order issue",
        "Consolidated duplicate files to canonical core location",
        "Merged blob store features into canonical unified_storage_api.py",
        "Removed duplicate enhanced files",
        "Updated import paths in enhanced_generator.py"
      ]
    },
    {
      "name": "ImportPathResolution",
      "entityType": "SystemFix",
      "observations": [
        "Resolved import errors in enhanced_generator.py and shotlist.py",
        "Fixed relative vs absolute import path conflicts",
        "Corrected type mismatches in evidence ingestion modules",
        "Ensured canonical file structure compliance",
        "Updated import paths after consolidation of enhanced files"
      ]
    },
    {
      "name": "CommandLineArgumentParser",
      "entityType": "SystemComponent",
      "observations": [
        "Added argparse support to server.py for --host and --port parameters",
        "Fixed launch script integration by enabling proper argument passing",
        "Resolved port configuration mismatch between launch script and server",
        "Enabled dynamic port assignment and host binding"
      ]
    }
  ],
  "relations": [
    {
      "from": "PrecisionCitationService",
      "to": "BackgroundResearchIntegration",
      "relationType": "integrates_with"
    },
    {
      "from": "PrecisionCitationService",
      "to": "ClaimSubstantiationIntegration",
      "relationType": "integrates_with"
    },
    {
      "from": "PrecisionCitationService",
      "to": "FactVerificationIntegration",
      "relationType": "integrates_with"
    },
    {
      "from": "PrecisionCitationService",
      "to": "QualityMetrics",
      "relationType": "uses"
    },
    {
      "from": "BackgroundResearchIntegration",
      "to": "EnhancedEvidenceTable",
      "relationType": "stores_in"
    },
    {
      "from": "ClaimSubstantiationIntegration",
      "to": "EnhancedEvidenceTable",
      "relationType": "stores_in"
    },
    {
      "from": "FactVerificationIntegration",
      "to": "EnhancedEvidenceTable",
      "relationType": "stores_in"
    },
    {
      "from": "LaunchScript",
      "to": "EnvironmentSetup",
      "relationType": "executes"
    },
    {
      "from": "LaunchScript",
      "to": "ServerOrchestration",
      "relationType": "executes"
    },
    {
      "from": "ServerOrchestration",
      "to": "FlaskBackend",
      "relationType": "manages"
    },
    {
      "from": "ServerOrchestration",
      "to": "FrontendServer",
      "relationType": "manages"
    },
    {
      "from": "EnhancedUnifiedStorageAPI",
      "to": "EnhancedEvidenceTable",
      "relationType": "extends"
    },
    {
      "from": "EnhancedUnifiedStorageAPI",
      "to": "ImportPathResolution",
      "relationType": "fixed_by"
    },
    {
      "from": "ImportPathResolution",
      "to": "ServerOrchestration",
      "relationType": "supports"
    },
    {
      "from": "SovietControlPanelUI",
      "to": "ConsolidatedFactoryUI",
      "relationType": "replaces"
    },
    {
      "from": "SovietControlPanelUI",
      "to": "SovietDesignSystem",
      "relationType": "uses"
    },
    {
      "from": "SovietControlPanelUI",
      "to": "ThreePanelLayout",
      "relationType": "implements"
    },
    {
      "from": "SovietDesignSystem",
      "to": "AnalogGaugeComponent",
      "relationType": "contains"
    },
    {
      "from": "SovietDesignSystem",
      "to": "ToggleSwitchComponent",
      "relationType": "contains"
    },
    {
      "from": "SovietDesignSystem",
      "to": "NixieDisplayComponent",
      "relationType": "contains"
    },
    {
      "from": "SovietDesignSystem",
      "to": "MetalPanelComponent",
      "relationType": "contains"
    },
    {
      "from": "ThreePanelLayout",
      "to": "WorkflowPanel",
      "relationType": "contains"
    },
    {
      "from": "ThreePanelLayout",
      "to": "DeliverablesPanel",
      "relationType": "contains"
    },
    {
      "from": "ThreePanelLayout",
      "to": "LLMChatPanel",
      "relationType": "contains"
    },
    {
      "from": "DeliverablesPanel",
      "to": "EvidenceTableComponent",
      "relationType": "displays"
    },
    {
      "from": "DeliverablesPanel",
      "to": "ClaimsMatrixComponent",
      "relationType": "displays"
    },
    {
      "from": "DeliverablesPanel",
      "to": "ShotByShotListComponent",
      "relationType": "displays"
    },
    {
      "from": "PuppeteerTestSuite",
      "to": "SovietControlPanelUI",
      "relationType": "tests"
    }
  ],
  "entities": [
    {
      "name": "PrecisionCitationService",
      "entityType": "Service",
      "observations": [
        "Advanced legal research service with academic/peer-reviewed source prioritization",
        "Implements structured filtering to exclude Wikipedia and low-quality sources",
        "Uses citation count and Q-score weighting for source quality assessment",
        "Supports multiple research workflows: background research, claim substantiation, fact verification"
      ]
    },
    {
      "name": "BackgroundResearchIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase A01 intake processing",
        "Performs background research using intake form data and existing evidence",
        "Limits results to 3-4 most relevant sources per search",
        "Automatically stores research results in evidence table and links to claims/facts"
      ]
    },
    {
      "name": "ClaimSubstantiationIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase B01 review process",
        "Performs claim substantiation research against legal claims",
        "Uses academic sources for legal analysis and news sources for recent developments",
        "Calculates substantiation strength and generates recommendations"
      ]
    },
    {
      "name": "FactVerificationIntegration",
      "entityType": "Integration",
      "observations": [
        "Integrates precision citation service with Phase C01 editing process",
        "Performs fact verification research for document editing phase",
        "Focuses on recent news and academic sources for fact corroboration",
        "Calculates verification confidence and provides editing recommendations"
      ]
    },
    {
      "name": "QualityMetrics",
      "entityType": "DataStructure",
      "observations": [
        "Comprehensive source quality assessment system",
        "Includes authority score, citation count weighting, Q-score weighting, recency score",
        "Combines metrics into overall quality score (1.0-5.0 scale)",
        "Used for filtering and ranking research sources"
      ]
    },
    {
      "name": "LaunchScript",
      "entityType": "SystemScript",
      "observations": [
        "Enhanced Bash launch script (v1.0.0) for complete LawyerFactory system startup",
        "Handles dependency installation, environment setup, port management, health checks",
        "Supports dry-run mode, verbose logging, configurable ports, skip-deps option"
      ]
    },
    {
      "name": "EnvironmentSetup",
      "entityType": "SystemComponent",
      "observations": [
        "Auto-creates .env configuration from template if missing",
        "Sets up directory structure: logs, data/storage, data/vectors, uploads, output",
        "Configures Python environment detection and validates version compatibility"
      ]
    },
    {
      "name": "ServerOrchestration",
      "entityType": "SystemComponent",
      "observations": [
        "Manages Flask backend server startup with Socket.IO support",
        "Launches frontend HTTP server for static file serving",
        "Implements health checks, PID tracking, graceful shutdown handling",
        "Fixed eventlet/greenlet threading compatibility issue",
        "Resolved import path conflicts and type mismatches"
      ]
    },
    {
      "name": "EnhancedUnifiedStorageAPI",
      "entityType": "StorageService",
      "observations": [
        "Enhanced unified storage system with blob storage integration",
        "Supports three-tier storage: S3 Raw → Evidence Table → Vector Store",
        "Tracks ObjectIDs across all storage tiers",
        "Fixed logger definition order issue",
        "Consolidated duplicate files to canonical core location",
        "Merged blob store features into canonical unified_storage_api.py",
        "Removed duplicate enhanced files",
        "Updated import paths in enhanced_generator.py"
      ]
    },
    {
      "name": "ImportPathResolution",
      "entityType": "SystemFix",
      "observations": [
        "Resolved import errors in enhanced_generator.py and shotlist.py",
        "Fixed relative vs absolute import path conflicts",
        "Corrected type mismatches in evidence ingestion modules",
        "Ensured canonical file structure compliance",
        "Updated import paths after consolidation of enhanced files"
      ]
    },
    {
      "name": "CommandLineArgumentParser",
      "entityType": "SystemComponent",
      "observations": [
        "Added argparse support to server.py for --host and --port parameters",
        "Fixed launch script integration by enabling proper argument passing",
        "Resolved port configuration mismatch between launch script and server",
        "Enabled dynamic port assignment and host binding"
      ]
    },
    {
      "name": "SovietControlPanelUI",
      "entityType": "UIComponent",
      "observations": [
        "1950s Soviet control board inspired React UI for LawyerFactory",
        "3-panel fixed-width layout optimized for 1920x1080",
        "Industrial aesthetic with metal panels, analog gauges, toggle switches",
        "Located at apps/ui/templates/soviet_control_panel.html"
      ]
    },
    {
      "name": "SovietDesignSystem",
      "entityType": "DesignSystem",
      "observations": [
        "Complete design system with Soviet/industrial aesthetic",
        "Color palette: crimson, amber, steel gray, dark green",
        "Typography: OCR A Extended, Share Tech Mono, Russo One",
        "Includes animations: gauge needles, button press, LED pulse"
      ]
    },
    {
      "name": "ThreePanelLayout",
      "entityType": "UILayout",
      "observations": [
        "Fixed-width panels: 400px left, flex center, 600px right",
        "Collapsible side panels with F1/F3 keyboard shortcuts",
        "Responsive center panel expands when sides collapse",
        "Optimized for 1920x1080 desktop resolution"
      ]
    },
    {
      "name": "AnalogGaugeComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Analog-style gauge with rotating needle indicator",
        "Displays progress/metrics with 0-100 scale",
        "Red danger zone for high values, tick marks",
        "CSS transform animations for smooth needle movement"
      ]
    },
    {
      "name": "ToggleSwitchComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Industrial toggle switch with LED status light",
        "Mechanical flip animation on state change",
        "LED pulses when active, dark when inactive",
        "Metallic finish with 3D pressed effect"
      ]
    },
    {
      "name": "NixieDisplayComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Nixie tube-style numeric display",
        "Orange glow effect with subtle flicker",
        "Displays metrics and counts",
        "Retro vacuum tube aesthetic"
      ]
    },
    {
      "name": "MetalPanelComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Embossed metal panel container with rivets",
        "Brushed steel gradient background",
        "Decorative hex rivets in corners",
        "Industrial warning stripes on headers"
      ]
    },
    {
      "name": "WorkflowPanel",
      "entityType": "UIPanel",
      "observations": [
        "Left panel displaying 7 legal workflow phases",
        "Progress gauge and phase selection",
        "Status lights for each phase",
        "Toggle switches for phase options"
      ]
    },
    {
      "name": "DeliverablesPanel",
      "entityType": "UIPanel",
      "observations": [
        "Center panel with tabbed content views",
        "Evidence table with ag-Grid integration",
        "Claims matrix visualization",
        "Shot-by-shot document list"
      ]
    },
    {
      "name": "LLMChatPanel",
      "entityType": "UIPanel",
      "observations": [
        "Right panel with agent-based chat interface",
        "7 specialized legal agents with status indicators",
        "Quick action buttons for common tasks",
        "Chat history with agent avatars"
      ]
    },
    {
      "name": "EvidenceTableComponent",
      "entityType": "ReactComponent",
      "observations": [
        "ag-Grid based evidence table",
        "Soviet-themed dark styling",
        "Sortable/filterable columns",
        "Integrates with backend evidence API"
      ]
    },
    {
      "name": "ClaimsMatrixComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Grid visualization of legal claims",
        "Color-coded claim strength indicators",
        "Interactive claim selection",
        "Links claims to evidence"
      ]
    },
    {
      "name": "ShotByShotListComponent",
      "entityType": "ReactComponent",
      "observations": [
        "Sequential document shot list",
        "Timestamp and description display",
        "Drag-and-drop reordering capability",
        "Links to source documents"
      ]
    },
    {
      "name": "PuppeteerTestSuite",
      "entityType": "TestSuite",
      "observations": [
        "Comprehensive Puppeteer tests for Soviet Control Panel UI",
        "Tests layout, components, interactions, keyboard shortcuts",
        "Located at tests/test_soviet_control_panel.js",
        "Includes visual regression and integration tests"
      ]
    }